<div class="faceted-filter">
  <div class="filter-container-loading" *ngIf="loading">
    <mat-spinner diameter="24" />
  </div>
  <div class="filter-container" *ngIf="!loading">
    <div class="title">
      <h3>Filter Options</h3>
    </div>
    <div *ngFor="let key of filterKeys" class="filter-section">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ filterData[key].name | titlecase }}</mat-label>
        <mat-select [formControl]="filterControls[key]" [multiple]="filterData[key].type === 'multi'">
          <mat-select-trigger>
            {{ getSummaryText(key) }}
          </mat-select-trigger>
          <mat-option *ngFor="let option of filterData[key].options" [value]="option">
            {{ option }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <div class="filter-actions">
    <button mat-button (click)="clear()">Clear</button>
    <button mat-flat-button color="primary" (click)="apply()">Apply</button>
  </div>
</div>
